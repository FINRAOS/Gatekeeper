<!--
  ~
  ~ Copyright 2018. Gatekeeper Contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<md-dialog  ng-class="dialog.css" md-theme="default" role="dialog">
    <md-dialog-content class="md-dialog-content">
        <h2 class="md-title">{{ dialogCtrl.title }}</h2>
        <div class="md-dialog-content-body">
            {{dialogCtrl.message}}
            <form name="dialogCtrl.grantReason" ng-if="dialogCtrl.requiresExplanation" layout-padding>
                <md-input-container class="justification-field" layout-fill flex md-no-float>
                    <textarea name="explanation" placeholder="Please provide a reason" ng-model="dialogCtrl.explanation" ng-required='dialogCtrl.justificationConfig.explanationFieldRequired'></textarea>
                </md-input-container>
                <md-input-container class="justification-field" layout-fill flex md-no-float>
                    <textarea name="ticketId" placeholder="{{dialogCtrl.getTicketIdFieldMessage()}}" ng-model="dialogCtrl.ticketId" ng-required='dialogCtrl.justificationConfig.ticketIdFieldRequired'></textarea>
                </md-input-container>
            </form>
        </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <span flex></span>
        <md-button ng-click="dialogCtrl.abort()">No</md-button>
        <md-button ng-click="dialogCtrl.hide()" ng-disabled="dialogCtrl.grantReason.$invalid">Yes</md-button>
    </md-dialog-actions>
</md-dialog>
